<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simplified Game Portal</title>

  <!-- External Libraries -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #000;
      color: #e2e8f0;
      margin: 0;
      overflow-x: hidden;
    }

    #particles-js {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .content {
      position: relative;
      z-index: 1;
    }

    :root {
      --neon-blue: #13E8E9;
    }

    .headingdiv {
      background: rgba(0, 0, 0, 0.8);
      color: var(--neon-blue);
      font-size: 2.5rem;
      text-align: center;
      padding: 20px;
      font-weight: bold;
      text-shadow: 0 0 10px var(--neon-blue);
      margin-bottom: 2rem;
    }

    .game-card {
      background-color: rgba(30, 41, 59, 0.7);
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .game-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 0 20px var(--neon-blue);
    }

    .category-btn.active {
      background-color: var(--neon-blue);
      color: black;
      box-shadow: 0 0 8px var(--neon-blue);
    }
  </style>
</head>
<body>
  <div id="particles-js"></div>

  <div class="content min-h-screen">
    <!-- Header -->
    <header class="fixed top-0 w-full bg-gray-900/90 py-3 shadow-2xl border-b border-cyan-500/50 z-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center">
        <div class="flex flex-wrap justify-center md:justify-start gap-4 md:gap-8 mb-3 md:mb-0">
          <a href="#" class="text-white hover:text-cyan-400 transition">Home</a>
          <a href="#" class="text-white hover:text-cyan-400 transition">About</a>
          <a href="#" class="text-white hover:text-cyan-400 transition">Login</a>
          <a href="#" class="text-white hover:text-cyan-400 transition">Sign up</a>
        </div>
        <div class="flex items-center gap-2">
          <input id="search-input" type="text" placeholder="Search games" class="bg-gray-800 text-white p-2 rounded-full border border-cyan-400/50 focus:border-cyan-400 focus:ring-1 focus:ring-cyan-400 outline-none">
          <button id="search-button" class="bg-cyan-400 text-black font-bold py-2 px-4 rounded-full hover:bg-cyan-300 transition">Search</button>
        </div>
      </div>
    </header>

    <!-- Main -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-10">
      <div class="headingdiv">
        <span id="headingspan"><i>Welcome to</i> <span id="typed_headings"></span></span>
      </div>
      <p class="text-xl text-center mb-10 text-gray-300 max-w-3xl mx-auto">
        Welcome to our Gaming Management Website, a dynamic and innovative platform designed to bring together gamers, teams, organizers, and enthusiasts...
      </p>

      <!-- Category Buttons -->
      <h2 class="text-2xl font-bold mb-4 text-white">Browse Categories</h2>
      <div id="category-bar" class="mb-10 overflow-x-auto whitespace-nowrap py-3 space-x-3 border-b border-gray-700">
        <button class="category-btn active rounded-full py-2 px-4">Trending üî•</button>
        <button class="category-btn rounded-full py-2 px-4">Action üí•</button>
        <button class="category-btn rounded-full py-2 px-4">Adventure üó∫Ô∏è</button>
        <button class="category-btn rounded-full py-2 px-4">Puzzle üß©</button>
        <button class="category-btn rounded-full py-2 px-4">Sports ‚öΩ</button>
        <button class="category-btn rounded-full py-2 px-4">Strategy üß†</button>
      </div>

      <!-- Game Grid -->
      <section class="mt-12">
        <h2 id="games-section-title" class="text-3xl font-bold mb-6 text-gray-100">All Games</h2>
        <div id="game-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6"></div>
        <div class="text-center mt-8">
          <button id="show-more-btn" class="bg-gray-800 text-cyan-400 font-bold py-3 px-8 rounded-full hover:bg-gray-700 border border-cyan-400 transition" style="display: none;" onclick="toggleGameLimit()">Show More Games</button>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="mt-20 border-t border-gray-700 bg-gray-900 py-8 text-center text-gray-400">
      <p class="mb-4 text-sm">&copy; 2024 Simplified Game Portal. All rights reserved.</p>
    </footer>
  </div>

  <!-- JavaScript -->
  <script>
    const INITIAL_GAME_LIMIT = 5;
    let currentGameLimit = INITIAL_GAME_LIMIT;
    let allGames = [];

    // Animated header
    function initializeAnimatedHeader() {
      new Typed('#typed_headings', {
        strings: ['Gaming World!', 'Gaming Hub!', 'Gaming Zone!', 'Gaming Arena!'],
        loop: true,
        typeSpeed: 70,
        backSpeed: 50,
        backDelay: 2000
      });
    }

    // Fetch games from backend
    async function fetchGamesFromBackend() {
      try {
        const response = await fetch('https://your-backend.com/api/games'); // Replace with actual URL
        if (!response.ok) throw new Error("Failed to fetch games");

        allGames = await response.json();
        loadGameGrid(allGames);
      } catch (error) {
        console.error("Error fetching games:", error);
        document.getElementById('game-grid').innerHTML = `<p class="text-red-500 col-span-full text-center py-10">Error loading games. Try again later.</p>`;
      }
    }

    // Render game cards
    function loadGameGrid(gamesToShow = allGames, searchQuery = '') {
      const gameGrid = document.getElementById('game-grid');
      const titleElement = document.getElementById('games-section-title');
      const showMoreBtn = document.getElementById('show-more-btn');
      gameGrid.innerHTML = '';

      const isSearching = searchQuery !== '';
      titleElement.textContent = isSearching ? `Search Results for: "${searchQuery}" (${gamesToShow.length} found)` : 'All Games';

      const displayList = isSearching ? gamesToShow : gamesToShow.slice(0, currentGameLimit);

      const isTooFewGames = isSearching || gamesToShow.length <= INITIAL_GAME_LIMIT;
      showMoreBtn.style.display = isTooFewGames ? 'none' : 'block';
      if (!isTooFewGames) {
        showMoreBtn.textContent = currentGameLimit === allGames.length ? 'Show Less Games' : 'Show More Games';
      }

      if (gameGrid) {
        displayList.forEach(game => {
          const titleUrl = game.title.replace(/ /g, '+');
          const imageUrl = game.thumbnail || `https://placehold.co/400x225/${game.color || '000000'}/ffffff?text=${titleUrl}`;
          const cardHTML = `
            <div class="game-card rounded-xl overflow-hidden shadow-lg cursor-pointer">
              <img src="${imageUrl}" class="w-full aspect-[16/9] object-cover" alt="${game.title} thumbnail">
              <div class="p-3">
                <h3 class="text-base font-semibold truncate">${game.title}</h3>
                <p class="text-xs text-gray-400">${game.category}</p>
                <button class="bg-cyan-400 hover:bg-cyan-300 text-black font-bold py-2 rounded-lg mt-2 w-full transition" onclick="handlePlayNow('${game.title}')">Play Now</button>
              </div>
            </div>`;
          gameGrid.insertAdjacentHTML('beforeend', cardHTML);
        });

        if (gamesToShow.length === 0) {
          gameGrid.insertAdjacentHTML('beforeend', '<p class="text-center text-xl text-gray-400 col-span-full py-10">No games found! Try different keywords.</p>');
        }
      }
    }

    function initializeCategoryFiltering() {
      const categoryButtons = document.querySelectorAll('.category-btn');

      categoryButtons.forEach(button => {
        button.addEventListener('click', () => {
          currentGameLimit = INITIAL_GAME_LIMIT;
          categoryButtons.forEach(btn => btn.classList.remove('active'));
          button.classList.add('active');

          const categoryName = button.textContent.trim().split(' ')[0];
          if (categoryName === 'Trending') {
            loadGameGrid(allGames);
          } else {
            const filteredGames = allGames.filter(game =>
              game.category.toLowerCase() === categoryName.toLowerCase()
            );
            loadGameGrid(filteredGames);
          }
        });
      });
    }

    function initializeSearch() {
      const searchInput = document.getElementById('search-input');
      const searchButton = document.getElementById('search-button');

      const performSearch = () => {
        const query = searchInput.value.toLowerCase().trim();
        currentGameLimit = allGames.length;

        if (query === '') {
          currentGameLimit = INITIAL_GAME_LIMIT;
          loadGameGrid(allGames);
          return;
        }

        const filteredGames = allGames.filter(game =>
          game.title.toLowerCase().includes(query) || game.category.toLowerCase().includes(query)
        );

        loadGameGrid(filteredGames, query);
        document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
      };

      searchButton.addEventListener('click', performSearch);
      searchInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') performSearch();
      });
    }

    function toggleGameLimit() {
      currentGameLimit = currentGameLimit === INITIAL_GAME_LIMIT ? allGames.length : INITIAL_GAME_LIMIT;
      loadGameGrid(allGames);
    }

    function handlePlayNow(title) {
      console.log("Starting game:", title);
      alert(`Launching ${title}...`);
    }

    window.handlePlayNow = handlePlayNow;

    // Particle background
    particlesJS("particles-js", {
      particles: {
        number: { value: 150, density: { enable: true, value_area: 800 } },
        color: { value: "#13E8E9" },
        shape: { type: "circle" },
        opacity: { value: 0.5 },
        size: { value: 3, random: true },
        line_linked: { enable: true, distance: 80, color: "#13E8E9", opacity: 0.4, width: 1.3 },
        move: { enable: true, speed: 1.5 }
      },
      interactivity: {
        detect_on: 'canvas',
        events: { onhover: { enable: true, mode: 'bubble' }, onclick: { enable: true, mode: 'push' }, resize: true },
        modes: { bubble: { distance: 200, size: 10, duration: 0.4 }, push: { particles_nb: 4 } }
      },
      retina_detect: true
    });

    // Init
    window.onload = function () {
      console.log("Starting Game Portal Initialization...");
      initializeAnimatedHeader();
      fetchGamesFromBackend();
      initializeCategoryFiltering();
      initializeSearch();
      console.log("Initialization Complete.");
    };
  </script>
</body>
</html>
